<div class="account-change-password-wrapper">

    <h2 class="account-change-password-title">
        Modifier le mot de passe
    </h2>

    <hr class="account-change-password-separator">

    <div class="account-change-password-content">

        <p-messages></p-messages>

        <div *ngIf="changePasswordForm" class="account-change-password-form">

            <form
                [formGroup]="changePasswordForm"
                (ngSubmit)="changePassword()">

                <div class="p-grid">
                    <div class="p-col-12 p-md-12 p-lg-6">
                        <div class="account-change-password-form-input-label input-label-required">
                            Mot de passe actuel
                        </div>
                    </div>

                    <div class="p-col-12 p-md-12 p-lg-6">
                        <div class="input-wrapper">
                            <input
                                pPassword
                                type="password"
                                feedback
                                formControlName="currentPassword"
                                placeholder="Mot de passe actuel"
                                class="input account-change-password-form-input-text">

                            <div
                                *ngIf="changePasswordForm.controls.currentPassword.invalid && (changePasswordForm.controls.currentPassword.dirty || changePasswordForm.controls.currentPassword.touched)"
                                class="input-messages">
                                <p-message
                                    *ngIf="changePasswordForm.controls.currentPassword.errors.required"
                                    severity="error"
                                    text="Le mot de passe est requis">
                                </p-message>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="p-grid">
                    <div class="p-col-12 p-md-12 p-lg-6">
                        <div class="account-change-password-form-input-label input-label-required">
                            Nouveau mot de passe
                        </div>
                    </div>

                    <div class="p-col-12 p-md-12 p-lg-6">
                        <div class="input-wrapper">
                            <input
                                pPassword
                                type="password"
                                feedback
                                formControlName="password"
                                placeholder="Nouveau mot de passe"
                                class="input account-change-password-form-input-text">

                            <div
                                *ngIf="changePasswordForm.controls.password.invalid && (changePasswordForm.controls.password.dirty || changePasswordForm.controls.password.touched)"
                                class="input-messages">
                                <p-message
                                    *ngIf="changePasswordForm.controls.password.errors.required"
                                    severity="error"
                                    text="Le mot de passe est requis">
                                </p-message>
                                <p-message
                                    *ngIf="changePasswordForm.controls.password.errors.minlength"
                                    severity="error"
                                    text="Le mot de passe doit faire au moins 8 caractères">
                                </p-message>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="p-grid">
                    <div class="p-col-12 p-md-12 p-lg-6">
                        <div class="account-change-password-form-input-label input-label-required">
                            Confirmez le mot de passe
                        </div>
                    </div>

                    <div class="p-col-12 p-md-12 p-lg-6">
                        <div class="input-wrapper">
                            <input
                                pPassword
                                type="password"
                                feedback
                                formControlName="confirmPassword"
                                placeholder="Confirmez le mot de passe"
                                class="input account-change-password-form-input-text">

                            <div
                                *ngIf="changePasswordForm.controls.confirmPassword.invalid && (changePasswordForm.controls.confirmPassword.dirty || changePasswordForm.controls.confirmPassword.touched)"
                                class="input-messages">
                                <p-message
                                    *ngIf="changePasswordForm.controls.confirmPassword.errors.required"
                                    severity="error"
                                    text="La confirmation du mot de passe est requise">
                                </p-message>
                                <p-message
                                    *ngIf="changePasswordForm.controls.confirmPassword.errors.confirmPassword"
                                    severity="error"
                                    text="Les mots de passe doivent être identiques">
                                </p-message>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="buttons-wrapper">

                    <button
                        pButton
                        type="submit"
                        label="Modifier"
                        [disabled]="!changePasswordForm.valid"
                        class="button account-change-password-form-button">
                    </button>

                </div>

            </form>

        </div>
    </div>

</div>
