<div class="login-wrapper">

    <div class="login-fieldset fieldset-responsive-from-top">

        <h2 class="login-fieldset-title">
            Connexion 
        </h2>

        <div *ngIf="loginIsEnable()" class="login-form">

            <p-messages></p-messages>

            <form
                [formGroup]="loginForm"
                (ngSubmit)="login()">

                <div class="input-wrapper">
                    <input
                        pInputText
                        type="text"
                        formControlName="email"
                        (keyup)="clearLoginFormEmail()"
                        placeholder="Email"
                        class="input">

                    <div
                        *ngIf="loginForm.controls.email.invalid && (loginForm.controls.email.dirty && loginForm.controls.email.touched)"
                        class="input-messages">
                        <p-message
                            *ngIf="loginForm.controls.email.errors.required"
                            severity="error"
                            text="L'email est requis">
                        </p-message>
                        <p-message
                            *ngIf="loginForm.controls.email.errors.email"
                            severity="error"
                            text="L'email est invalide">
                        </p-message>
                    </div>
                </div>

                <div class="input-wrapper">
                    <input
                        pPassword
                        type="password"
                        feedback
                        formControlName="password"
                        placeholder="Mot de passe"
                        class="input">

                    <div
                        *ngIf="loginForm.controls.password.invalid && (loginForm.controls.password.dirty && loginForm.controls.password.touched)"
                        class="input-messages">
                        <p-message
                            *ngIf="loginForm.controls.password.errors.required"
                            severity="error"
                            text="Le mot de passe est requis">
                        </p-message>
                    </div>
                </div>

                <div>
                    <a routerLink="/forgotten-password" class="login-forgotten-password-link cursor-pointer">
                        Mot de passe oublié ?
                    </a>
                </div>

                <div class="buttons-wrapper clear">
                    <button
                        pButton
                        type="submit"
                        label="Se connecter"
                        [disabled]="!loginForm.valid"
                        class="button login-form-button">
                    </button>
                </div>

            </form>

            <hr class="login-register-links-separator">

            <div class="login-register-links">
                Vous n'avez pas de compte ? M'inscrire comme <a
                    routerLink="/register/{{ RegisterType.Explorer }}"
                    class="login-register-link cursor-pointer bold explorjob-orange">
                    explorateur
                </a> ou comme <a
                    routerLink="/register/{{ RegisterType.Professional }}"
                    class="login-register-link cursor-pointer bold explorjob-green">
                    professionnel
                </a>
            </div>

        </div>

        <div *ngIf="!loginIsEnable()" class="login-disable">
            <p>
                La connexion est actuellement désactivée.
            </p>
            <p>
                Veuillez réessayer ultérieurement.
            </p>
        </div>

    </div>

</div>
